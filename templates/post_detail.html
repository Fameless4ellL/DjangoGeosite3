{% extends "base.html" %}
{% load staticfiles %}
{% load my_tags %}

{% block title %}
    {{ post }}

{% endblock %}

{% block content %}
    <style>
        img {
            max-width: 100%;
            display: inline-block;
        }

        /* Для средних устройств (планшеты) */
        @media (min-width: 420px) {
            img {
                max-width: 48%;
            }
        }

        /* Для больших устройств (ноуты, пк) */
        @media (min-width: 760px) {
            img {
                max-width: 50%;
            }
        }

        iframe {
            max-width: 100%;
            display: inline-block;
        }

        /* Для средних устройств (планшеты) */
        @media (min-width: 420px) {
            iframe {
                max-width: 48%;
            }
        }

        /* Для больших устройств (ноуты, пк) */
        @media (min-width: 760px) {
            iframe {
                max-width: 50%;
            }
        }
    </style>
    <article class="article" style="margin-top: 10%">
        <div class="card border-primary mb-3"
             style="margin: auto;  margin-left: 10%; margin-right: 10%; margin-top: 4%">
            <div class="card-header text-muted"><i class="fa fa-calendar"
                                                   aria-hidden="true"></i> {{ post.published_date }} <i
                    class="fa fa-hourglass-o" aria-hidden="true"></i><span class="eta"></span></div>
            <ul class="list-group list-group-flush">
                <li class="list-group-item">
                    {% for tags in post.tags.all %}
                        <a class="badge badge-pill badge-primary" href="{% url 'post_by_tag' tags.slug %}">
                        <i class="fa fa-tag" aria-hidden="true"></i> {{ tags.name }} {% if not forloop.last %}
                    {% endif %}{% endfor %}</a>
                </li>
            </ul>
            <div class="card-body">
                <h4 class="card-title">{{ post.title }}</h4>
                {% for infobox in post.Infobox.all %}
                    <table class="table border table-hover table-sm col-3 float-lg-right" style='padding: auto'>
                        <thead class="table-primary">
                        <tr>
                            <td colspan="2" style="text-align: center"><strong>{{ infobox.rock }}</strong></td>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>{% if post.thumb %}
                            <th colspan="2"><img src="{{ post.thumb.url }}" alt="{{ post.thumb }} "
                                                 style="display: block; margin-right: auto; margin-left: auto; width: 50%">
                            </th>
                            </tr>{% endif %}
                        <thead class="table-info">
                        <tr>
                            <td colspan="2" style="text-align: center"><strong>Общее</strong></td>
                        </tr>
                        </thead>
                        <tr>{% if infobox.formula %}
                            <th scope="row">{{ infobox.name_label }}:</th>
                            <td>{{ infobox.formula|safe }}</td>
                            </tr>{% endif %}
                        <tr>{% if infobox.category %}
                            <th scope="row">{{ infobox.category_label }}:</th>
                            <td>{{ infobox.category }}</td>
                            </tr>{% endif %}
                        <tr>{% if infobox.CristalSystem %}
                            <th scope="row">{{ infobox.CristalSystem_label }}:</th>
                            <td>{{ infobox.CristalSystem }}</td>
                            </tr>{% endif %}
                        <thead class="table-info">
                        <tr>
                            <td colspan="2" style="text-align: center"><strong>Индентификация</strong></td>
                        </tr>
                        </thead>
                        <tr>{% if infobox.color %}
                            <th scope="row">{{ infobox.color_label }}:</th>
                            <td>{{ infobox.color }}</td>
                            </tr>{% endif %}
                        <tr>{% if infobox.hardness %}
                            <th scope="row">{{ infobox.hardness_label }}:</th>
                            <td>~{{ infobox.hardness }}</td>
                            </tr>{% endif %}
                        <tr>{% if infobox.Cleavage %}
                            <th scope="row">{{ infobox.Cleavage_label }}:</th>
                            <td>{{ infobox.Cleavage }}</td>
                            </tr>{% endif %}
                        <tr>{% if infobox.Fracture %}
                            <th scope="row">{{ infobox.Fracture_label }}:</th>
                            <td>{{ infobox.Fracture }}</td>
                            </tr>{% endif %}
                        <tr>{% if infobox.Lustre %}
                            <th scope="row">{{ infobox.Lustre_label }}:</th>
                            <td>{{ infobox.Lustre }}</td>
                            </tr>{% endif %}
                        <tr>{% if infobox.Opacity %}
                            <th scope="row">{{ infobox.Opacity_label }}:</th>
                            <td>{{ infobox.Opacity }}</td>
                            </tr>{% endif %}
                        <tr>{% if infobox.Streak %}
                            <th scope="row">{{ infobox.Streak_label }}:</th>
                            <td>{{ infobox.Streak }}</td>
                            </tr>{% endif %}
                        <tr>{% if infobox.SpecificGravity %}
                            <th scope="row">{{ infobox.SpecificGravity_label }}:</th>
                            <td>~{{ infobox.SpecificGravity }}</td>
                            </tr>{% endif %}
                        </tbody>
                    </table>
                {% endfor %}
                <p class="card-text">{{ post.text|safe|escape }}</p>
            </div>
            <div class="card-header text-muted">
            </div>
        </div>
    </article>



{% endblock %}